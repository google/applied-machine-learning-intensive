<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Aggregating &#8212; Runestone Interactive Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/presenter_mode.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css?v=58C4E18A" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css?v=424F1CC9" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css?v=3BA0E63E" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css?v=E5385B3B" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css?v=1CE53237" />
    <link rel="stylesheet" type="text/css" href="../_static/spreadsheet.css?v=B5F018A" />
    <link rel="stylesheet" type="text/css" href="../_static/jexcel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/japp.css" />
    <link rel="stylesheet" type="text/css" href="../_static/reveal.css?v=4A81D381" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css?v=2F3E13EE" />
    <link rel="stylesheet" type="text/css" href="../_static/js_lib/prettify.css?v=2A364B6B" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css?v=239FC54E" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css?v=8A1A42E4" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css?v=F471F95B" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css?v=C184EB8A" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css?v=C6382F3" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=808B982A" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css?v=1FF7F927" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css?v=E220AC33" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css?v=4.1.8" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js?v=4.1.8"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script type="text/javascript" src="../_static/clickable.js?v=DEB56CF8"></script>
    <script type="text/javascript" src="../_static/timedclickable.js?v=93989C23"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js?v=5BE6106"></script>
    <script type="text/javascript" src="../_static/fitb.js?v=3FF7EFF0"></script>
    <script type="text/javascript" src="../_static/timedfitb.js?v=2AA17071"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js?v=53E888DE"></script>
    <script type="text/javascript" src="../_static/codemirror.js?v=94F552C9"></script>
    <script type="text/javascript" src="../_static/xml.js?v=236EDFF7"></script>
    <script type="text/javascript" src="../_static/css.js?v=623153CE"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js?v=33B91944"></script>
    <script type="text/javascript" src="../_static/javascript.js?v=6F38CA04"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script type="text/javascript" src="../_static/Blob.js?v=AEC2447"></script>
    <script type="text/javascript" src="../_static/spreadsheet.js?v=9DA8BEAB"></script>
    <script type="text/javascript" src="../_static/jexcel.js"></script>
    <script type="text/javascript" src="../_static/japp.js"></script>
    <script type="text/javascript" src="../_static/reveal.js?v=9C3AAF60"></script>
    <script type="text/javascript" src="../_static/lp.js?v=F137FF7A"></script>
    <script type="text/javascript" src="../_static/gas.js?v=F0D0F02E"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js?v=CA7E8928"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js?v=73056367"></script>
    <script type="text/javascript" src="../_static/parsons.js?v=68B5F56"></script>
    <script type="text/javascript" src="../_static/timedparsons.js?v=2EEA9E5A"></script>
    <script type="text/javascript" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script type="text/javascript" src="../_static/mchoice.js?v=7B442CDC"></script>
    <script type="text/javascript" src="../_static/timedmc.js?v=B010A457"></script>
    <script type="text/javascript" src="../_static/timed.js?v=6789FE30"></script>
    <script type="text/javascript" src="../_static/shortanswer.js?v=6E8BF031"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js?v=B3A117D7"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js?v=836E01C"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js?v=B64CF0A8"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js?v=42F9EBEA"></script>
    <script type="text/javascript" src="../_static/pytutor.js?v=82B022B9"></script>
    <script type="text/javascript" src="../_static/codelens.js?v=CABECD49"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js?v=4AA8F078"></script>
    <script type="text/javascript" src="../_static/python.js?v=14A28F1F"></script>
    <script type="text/javascript" src="../_static/sql.js?v=1B4587EC"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js?v=599B42B0"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js?v=88A1430F"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js?v=AE15A4A1"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js?v=8ABDFE7F"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js?v=747279FF"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js?v=7B020E13"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js?v=660E85C3"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js?v=54B21948"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js?v=70E93DF2"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js?v=E7EA033F"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js?v=A9BBDEEE"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../_static/activecode.js?v=87AAF5F"></script>
    <script type="text/javascript" src="../_static/clike.js?v=2DCE0756"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js?v=5150FA78"></script>
    <script type="text/javascript" src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script type="text/javascript" src="../_static/datafile.js?v=3ED1A80C"></script>
    <script type="text/javascript" src="../_static/showEval.js?v=5B2DD7A6"></script>
    <script type="text/javascript" src="../_static/dragndrop.js?v=644C2C6C"></script>
    <script type="text/javascript" src="../_static/timeddnd.js?v=378F237E"></script>
    <script type="text/javascript" src="../_static/poll.js?v=13CE919A"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js?v=4.1.8"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../_static/presenter_mode.js?v=4.1.8"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ifs and Cases" href="ifs_and_cases.html" />
    <link rel="prev" title="Sorting" href="sorting.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'ac1';
    eBookConfig.basecourse = 'ac1';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '4.1.8';
  eBookConfig.jobehost = 'http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>


<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          ac1
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span aria-label="Social" class="visuallyhidden">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span aria-label="Help" class="visuallyhidden">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/runestone/static/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=ac1&page=aggregating'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - Sorting" data-toggle="tooltip">
    <a href="sorting.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Ifs and Cases' data-toggle="tooltip" >              
    <a href="ifs_and_cases.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li>
  <a href="../_sources/sql/aggregating.rst.txt"
     rel="nofollow">Source</a></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="aggregating">
<h1>Aggregating<a class="headerlink" href="#aggregating" title="Permalink to this headline">¶</a></h1>
<p>Sheets provides aggregating/grouping functionality via pivot tables, which you
have <a class="reference internal" href="../filtering_and_grouping/grouping_data.html#grouping-data"><span class="std std-ref">already seen previously</span></a>. Again, SQL provides the same
functionality as Sheets through keywords. In this case, the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code>
statement allows you to group and aggregate data. For example, you can use
<code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> to count how many bike trips were taken for each subscriber type,
or to calculate the mean duration for trips starting from each station.</p>
<p>The following query counts the number of trips (<code class="docutils literal notranslate"><span class="pre">COUNT(*)</span></code>) for each member
type (<code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span> <span class="pre">member_type</span></code>).</p>

<div data-childcomponent="bikeshare_count_trips_per_member_type" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_count_trips_per_member_type data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  member_type,
  COUNT(*) AS n_trips
FROM
  trip_data
GROUP BY
  member_type
</textarea>
</div>
<p>The result of this query has one rows for each distinct <code class="docutils literal notranslate"><span class="pre">member_type</span></code>, and the
column named <code class="docutils literal notranslate"><span class="pre">n_trips</span></code> counts the number of rows for each type.</p>
<p>Whenever you use <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code>, SQL expects you to use an aggregating function.
This is equivalent to which function is used to summarize data in a Sheets pivot
table. The most common examples are listed below.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code> counts the rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUM</span></code> adds the values of a numeric column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIN</span></code> calculates the minimum of a numeric column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX</span></code> calculates the maximum of a numeric column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AVG</span></code> calculates the mean of a numeric column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MEDIAN</span></code> calculates the median of a numeric column (only available in some
SQL servers)</p></li>
</ul>
<p>For example, the query below calculates the minimum and maximum trip duration
for each start station.</p>

<div data-childcomponent="bikeshare_min_and_max_trip_duration_by_start_station" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_min_and_max_trip_duration_by_start_station data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  MIN(duration) AS minimum_duration,
  MAX(duration) AS maximum_duration
FROM
  trip_data
GROUP BY
  start_station
</textarea>
</div>

<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_station_with_earliest_start_date >
<p>Q-1: Write a query to find start station with the earliest start date.</p>

</div>
</div> <!-- end of runestone div -->
<p>You must include the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> column(s) in your <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> clause. All
columns that are not in the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause must contain an aggreating
function.</p>
<p>If you want to calculate a summary statistic for the entire population, you can
use an aggregating function without the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause. For example, the
query below calculates the mean duration of all trips.</p>

<div data-childcomponent="bikeshare_average_duration" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_average_duration data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  AVG(duration) AS mean_duration
FROM
  trip_data
</textarea>
</div>
<p>You can of course use filtering and ordering with aggregating functions. The
query below calculates the mean trip duration just for trips with a casual
member type.</p>

<div data-childcomponent="bikeshare_mean_duration_for_casual_member_type" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_mean_duration_for_casual_member_type data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  AVG(duration)
FROM
  trip_data
WHERE
  member_type = 'Casual'
</textarea>
</div>

        <div class="runestone">
        <div data-component="fillintheblank" id="bikeshare_first_trip_from_station_31111">
            <p>Q-2: What is the total duration of all trips taken on bike W01274?</p>
<input type="text">
        <script type="application/json">
            [[{"number": [9318, 9318], "feedback": "<p>Correct</p>\n"}, {"regex": "^\\s*x\\s*$", "regexFlags": "", "feedback": "<p>Incorrect</p>\n"}]]
        </script>

        </div>
        </div>
            <p>You can then combine this with the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause as you like. Filtering
with the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause can serve multiple purposes. Either way, you must
put the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause before the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause.</p>
<p>If you filter by a column that is not grouped by, you can filter the aggregated
results to a subset of the data. For example, you can calculate the sum of all
trip durations, by start station, for a specific end station.</p>

<div data-childcomponent="bikeshare_filter_and_group_by_different_columns" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_filter_and_group_by_different_columns data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  SUM(duration) AS total_duration
FROM
  trip_data
WHERE
  end_station = 31111
GROUP BY
  start_station
</textarea>
</div>
<p>If you filter by a column that is being grouped by, you can filter the
aggregated results to just show the row you are interested in. For example, you
can display the total trip duration for each pair of start station and end
station, just for trips that end at station 31111.</p>

<div data-childcomponent="bikeshare_filter_and_group_by_same_column" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_filter_and_group_by_same_column data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  end_station,
  SUM(duration) AS total_duration
FROM
  trip_data
WHERE
  end_station = 31111
GROUP BY
  start_station,
  end_station
</textarea>
</div>

<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_debug_group_by_query >
<p>Q-3: Find and fix the error(s) in the following code, which is trying to calculate
the mean trip duration for trips by member type casual.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
  <span class="k">AVG</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
<span class="k">FROM</span>
  <span class="n">trip_data</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">member_type</span>
</pre></div>
</div>

</div>
</div> <!-- end of runestone div -->
<p>It can also be useful to combine aggregating functions with the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>
clause. This can allow you to sort by an aggretated column to find the minimum
or maximum.</p>

<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_explain_group_by_query >
<p>Q-4: Explain what the following query will return.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
  <span class="n">start_station</span><span class="p">,</span>
  <span class="k">AVG</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span> <span class="k">AS</span> <span class="n">mean_duration</span>
<span class="k">FROM</span>
  <span class="n">trip_data</span>
<span class="k">WHERE</span>
  <span class="n">duration</span> <span class="o">&gt;=</span> <span class="mi">3600</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">start_station</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="k">AVG</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span> <span class="k">DESC</span>
</pre></div>
</div>

</div>
</div> <!-- end of runestone div -->
<p>Note that you can also use the column alias in the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause. The
above query would have been identical (in almost all SQL servers) if it had been
<code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">mean_duration</span> <span class="pre">DESC</span></code>.</p>

        <div class="runestone">
        <div data-component="fillintheblank" id="bikeshare_bike_with_most_trips">
            <p>Q-5: How many trips did the bike number with the most trips complete?</p>
<input type="text">
        <script type="application/json">
            [[{"regex": "^\\s*1(,|)226(,|)767\\s*$", "regexFlags": "", "feedback": "<p>Correct</p>\n"}, {"regex": "^\\s*x\\s*$", "regexFlags": "", "feedback": "<p>Incorrect</p>\n"}]]
        </script>

        </div>
        </div>
            
        <div class="runestone">
        <div data-component="fillintheblank" id="bikeshare_mean_duration_trips_with_same_start_and_end">
            <p>Q-6: For the station with the most trips that started and ended at the same
station, find the mean duration (in seconds) of all trips, rounded to the
nearest whole number.</p>
<input type="text">
        <script type="application/json">
            [[{"regex": "^\\s*4(,|)160\\s*$", "regexFlags": "", "feedback": "<p>Correct</p>\n"}, {"regex": "^\\s*x\\s*$", "regexFlags": "", "feedback": "<p>Incorrect</p>\n"}]]
        </script>

        </div>
        </div>
            <div class="section" id="extension-counting-unique-values">
<h2>Extension: Counting Unique Values<a class="headerlink" href="#extension-counting-unique-values" title="Permalink to this headline">¶</a></h2>
<p>It is often helpful to not only count the number of rows, but count the number
of unique values of a column. You can do this using the <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> keyword.</p>
<p>To count the distinct values of a column, you can simply use <code class="docutils literal notranslate"><span class="pre">COUNT</span></code> along
with <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code>. For example, the query below counts the number of bike
numbers used.</p>

<div data-childcomponent="bikeshare_count_distinct_bikes" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_count_distinct_bikes data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  COUNT(DISTINCT bike_number) AS n_distinct_bikes
FROM
  trip_data
</textarea>
</div>
<p>This can also be used alongside to count the unique values for each group. For
example, the following query counts the unique bike numbers used for each start
station.</p>

<div data-childcomponent="bikeshare_count_distinct_bikes_by_start_station" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_count_distinct_bikes_by_start_station data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  COUNT(DISTINCT bike_number) AS n_distinct_bikes
FROM
  trip_data
GROUP BY
  start_station
</textarea>
</div>

        <div class="runestone">
        <div data-component="fillintheblank" id="bikeshare_number_of_start_stations">
            <p>Q-7: How many unique start stations are in the table?</p>
<input type="text">
        <script type="application/json">
            [[{"number": [144, 144], "feedback": "<p>Correct</p>\n"}, {"regex": "^\\s*x\\s*$", "regexFlags": "", "feedback": "<p>Incorrect</p>\n"}]]
        </script>

        </div>
        </div>
            
<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_unique_end_stations_per_start_station >
<p>Q-8: Write a query to display the number of unique end stations per each start
station.</p>

</div>
</div> <!-- end of runestone div -->
<p>It is sometimes also useful to select the distinct rows of a table. You can do
that by using <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> without an aggregating function.</p>

<div data-childcomponent="bikeshare_select_distinct_bikes" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_select_distinct_bikes data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  DISTINCT bike_number
FROM
  trip_data
</textarea>
</div>
<p>Note that selecting distinct values is exactly equivalent to selecting grouped
values.</p>

<div data-childcomponent="bikeshare_distinct_bike_using_group_by" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_distinct_bike_using_group_by data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  bike_number
FROM
  trip_data
GROUP BY
  bike_number
</textarea>
</div>
</div>
<div class="section" id="extension-the-having-clause">
<h2>Extension: The HAVING Clause<a class="headerlink" href="#extension-the-having-clause" title="Permalink to this headline">¶</a></h2>
<p>You can never include an aggregating function within the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause. For
example, suppose you are trying to show all start stations and the number of
trips, but only for start stations with over 100 trips. The following query
produces an error, since the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> condition includes the <code class="docutils literal notranslate"><span class="pre">COUNT</span></code>
function.</p>

<div data-childcomponent="bikeshare_where_with_aggregation" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_where_with_aggregation data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  COUNT(*) AS n_trips
FROM
  trip_data
WHERE
  COUNT(*) > 100
GROUP BY
  start_station
</textarea>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clause can be used instead here. The query below executes
successfully.</p>

<div data-childcomponent="bikeshare_having_over_100_trips" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=bikeshare_having_over_100_trips data-lang="sql" 
      data-timelimit=25000    
    data-audio=''     data-dburl='/_static/bikeshare.db' 
          >
SELECT
  start_station,
  COUNT(*) AS n_trips
FROM
  trip_data
GROUP BY
  start_station
HAVING
  COUNT(*) > 100
</textarea>
</div>
<p>As with the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause, <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> is an operation on the results.
While <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> filters the data being queries, <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> filters the results
based on the value of an aggregating function. The <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clause can only be
used immediately following the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause.</p>

<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_bikes_having_over_1_hour >
<p>Q-9: Write a query to show the bikes have been used for over 1 hour (3600
seconds), and the total duration they have been ridden.</p>

</div>
</div> <!-- end of runestone div -->
</div>
<div class="section" id="extension-numbered-column-aliases">
<h2>Extension: Numbered Column Aliases<a class="headerlink" href="#extension-numbered-column-aliases" title="Permalink to this headline">¶</a></h2>
<p>This section covers no new concepts, but introduces a conventient shorthand
notation. When using <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> and <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>, you can often (this is
supported in almost all SQL servers, but not all) reference columns using the
number in which they are selected. For example, the following two queries are
identical, listing member types by descending number of trips.</p>
<p>The first query uses the column names in the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> and <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
  <span class="n">member_type</span><span class="p">,</span>
  <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">n_trips</span>
<span class="k">FROM</span>
  <span class="n">trip_data</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="n">member_type</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="n">n_trips</span> <span class="k">DESC</span>
</pre></div>
</div>
<p>The second query uses the column number in the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> and <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
  <span class="n">member_type</span><span class="p">,</span>
  <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">n_trips</span>
<span class="k">FROM</span>
  <span class="n">trip_data</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="mi">1</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="mi">2</span> <span class="k">DESC</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">1</span></code> refers to the first column being selected, <code class="docutils literal notranslate"><span class="pre">member_type</span></code>, and
<code class="docutils literal notranslate"><span class="pre">2</span></code> refers to the second column being selected, <code class="docutils literal notranslate"><span class="pre">n_trips</span></code>.</p>
<p>You can always use the column names in these clauses, but the numbered aliasing
can be extremely useful, especially if you have several columns. Note that you
can use this notation only with the <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> and <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clauses. Using
such notation anywhere else will produce an error.</p>

<div class="runestone">
<div data-component="shortanswer" class="journal alert alert-warning" id=bikeshare_explain_numbered_aliases >
<p>Q-10: Explain what question the following query is answering.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
  <span class="n">start_station</span><span class="p">,</span>
  <span class="n">end_station</span><span class="p">,</span>
  <span class="k">AVG</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span> <span class="k">AS</span> <span class="n">mean_duration</span>
<span class="k">FROM</span>
  <span class="n">trip_data</span>
<span class="k">GROUP</span> <span class="k">BY</span>
  <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="k">ORDER</span> <span class="k">BY</span>
  <span class="mi">3</span> <span class="k">DESC</span>
</pre></div>
</div>

</div>
</div> <!-- end of runestone div -->
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" class="navLink" title='Previous Section - Sorting' data-toggle="tooltip">
    <a href="sorting.html" aria-label="Sorting">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%;"></i>
        </div>
    </a>
  </li>
</ul>
  <a class="navLinkBg" id="navLinkBgLeft"  href="sorting.html" aria-label="Sorting"></a>
  
<ul>
  <li id="relations-next" class="navLink" title='Next Section - Ifs and Cases' data-toggle="tooltip" >
    <a href="ifs_and_cases.html" aria-label="Ifs and Cases">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%;"></i>
      </div>
    </a>
  </li>
</ul>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="ifs_and_cases.html" aria-label="Ifs and Cases">Next Section - Ifs and Cases</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 4.1.8.
    </p>
  </div>
</footer>





  </body>
</html>